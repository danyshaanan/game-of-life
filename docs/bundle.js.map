{"version":3,"sources":["webpack:///webpack/bootstrap e30575d52b0b2507f42d","webpack:///./main.js","webpack:///./lib/rules.js","webpack:///./lib/math.js","webpack:///./lib/Grid.js","webpack:///./lib/Gol.js","webpack:///./lib/CellSet.js","webpack:///./lib/patterns.js","webpack:///./lib/patternsUtils.js","webpack:///./lib/formats.js"],"names":["getRule","require","math","Grid","Gol","patterns","dimensions","init","document","selector","pattern","gliderGun","grid","gameOfLife","updateCell","dot","c","getColor","draw","changedCells","toArray","forEach","state","tps","frame","freeze","tick","randRound","window","requestAnimationFrame","querySelector","onclick","element","output","value","onchange","e","target","createOnClickHandler","key","atts","innerHTML","createButton","Object","assign","createElement","buttons","keys","map","appendChild","b","oninput","rule","parseSet","s","r","Set","match","split","Number","born","survives","module","exports","Math","trunc","n","random","config","canvas","width","height","ctx","getContext","imageSmoothingEnabled","pixel","color","fillStyle","fillRect","CellSet","neiDiffs","add","p","q","modulo","options","changedSinceLastCalc","liveCells","diff","cell","has","isAlive","toggle","neighbours","d","countNeighbours","filter","length","shouldChange","nei","iterate","lastGenChanged","reduce","a","concat","i","ret","encode","decode","initValues","set","delete","Array","from","u","f","glider","missingname","Rpentomino","Acorn","lightweightSpaceship","B52bomber","gliderlessGun","SHIP","gbt12","k","centerIn","fromRLE","shift","sub","x","min","max","transpose","y","size","abs","join","s1","s2","center","round","zero","res","row","col","funcs","o","push","$","st","replace","toRLE","rowReducer","getRows","rowToArray","arrayToString","arr","pairs","curr","prev","l","fromL","toL","fromGrid","live","j","Boolean","line"],"mappings":"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","file":"./bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e30575d52b0b2507f42d","'use strict'\n\nconst getRule = require('./lib/rules.js').getRule\nconst math = require('./lib/math.js')\nconst Grid = require('./lib/Grid.js')\nconst Gol = require('./lib/Gol.js')\nconst patterns = require('./lib/patterns.js')\n\nconst dimensions = [500, 500]\n\nconst init = pattern => [\n  new Grid({ document, selector: 'canvas', dimensions }),\n  new Gol({ dimensions, pattern })\n]\n\nlet [ grid, gameOfLife ] = init(patterns.gliderGun)\n\nconst updateCell = c => grid.dot(c, gameOfLife.getColor(c))\nconst draw = changedCells => { changedCells.toArray().forEach(updateCell) }\nconst state = { tps: 60 }\n\nconst frame = () => {\n  if (!state.freeze) draw(gameOfLife.tick(math.randRound(state.tps / 60)))\n  window.requestAnimationFrame(frame)\n}\n\ndocument.querySelector('canvas').onclick = () => { state.freeze ^= 1 }\n\n;(() => {\n  const element = document.querySelector('input[type=range]')\n  const output = document.querySelector('output')\n  element.value = state.tps\n  element.onchange = e => { output.value = state.tps = e.target.value }\n\n  const createOnClickHandler = key => () => {\n    [grid, gameOfLife] = init(patterns[key])\n    draw(gameOfLife.tick(0))\n  }\n  const atts = key => ({ innerHTML: key, onclick: createOnClickHandler(key) })\n  const createButton = key => Object.assign(document.createElement('button'), atts(key))\n  const buttons = document.createElement('div')\n  Object.keys(patterns).map(createButton).forEach(b => buttons.appendChild(b))\n  document.querySelector('body').appendChild(buttons)\n\n  document.querySelector('body').appendChild(Object.assign(\n    document.createElement('input'),\n    { value: 'b3s23', oninput: e => { gameOfLife.rule = getRule(e.target.value) } }\n  ))\n})()\n\ndraw(gameOfLife.tick(0))\nframe()\n\n\n\n// WEBPACK FOOTER //\n// ./main.js","'use strict'\n\nconst parseSet = (s, r) => new Set(((s.match(r) || [])[1] || '').split('').map(Number))\n\nconst getRule = (rule = 'b3s23') => ({\n  born: parseSet(rule, /[bB](\\d*)/),\n  survives: parseSet(rule, /[sS](\\d*)/)\n})\n\nmodule.exports = {\n  getRule\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/rules.js","'use strict'\n\nconst randRound = n => Math.trunc(n) + (Math.random() < n % 1)\n\nmodule.exports = {\n  randRound\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/math.js","'use strict'\n\nmodule.exports = class Grid {\n  constructor(config) {\n    const canvas = config.document.querySelector(config.selector)\n    ;[canvas.width, canvas.height] = config.dimensions\n    this.ctx = canvas.getContext('2d')\n    this.ctx.imageSmoothingEnabled = false\n  }\n  dot(pixel, color) {\n    this.ctx.fillStyle = color\n    this.ctx.fillRect(...pixel, 1, 1)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/Grid.js","'use strict'\n\nconst getRule = require('./rules.js').getRule\nconst CellSet = require('./CellSet.js')\n\nconst neiDiffs = [[1, 1], [1, 0], [1, -1], [0, 1], [0, -1], [-1, 1], [-1, 0], [-1, -1]]\n// const neiDiffs = [0, 1, 2, 3, 5, 6, 7, 8].map(i => [(i / 3 | 0) - 1, i % 3 - 1])\n\nconst add = (p, q) => [p[0] + q[0], p[1] + q[1]]\nconst modulo = (p, q) => [(p[0] + q[0]) % q[0], (p[1] + q[1]) % q[1]]\n\nmodule.exports = class Gol {\n  constructor(options) {\n    this.dimensions = options.dimensions\n    this.rule = getRule(options.rule)\n    this.changedSinceLastCalc = new CellSet(options.pattern)\n    this.liveCells = new CellSet(options.pattern)\n    this.diff = new CellSet(options.pattern)\n  }\n  isAlive(cell) {\n    return this.liveCells.has(cell)\n  }\n  getColor(cell) {\n    return this.isAlive(cell) ? 'black' : 'white'\n  }\n  toggle(cell) {\n    cell = modulo(cell, this.dimensions)\n    this.liveCells.toggle(cell)\n    this.changedSinceLastCalc.toggle(cell)\n    this.diff.toggle(cell)\n  }\n  tick(n = 1) {\n    const neighbours = c => neiDiffs.map(d => modulo(add(c, d), this.dimensions))\n    const countNeighbours = cell => neighbours(cell).filter(s => this.isAlive(s)).length\n    const shouldChange = (cell, nei) => (\n      (this.isAlive(cell) && !this.rule.survives.has(nei)) ||\n      (!this.isAlive(cell) && this.rule.born.has(nei))\n    )\n\n    const iterate = lastGenChanged => new CellSet(\n      lastGenChanged.toArray()\n        .reduce((a, c) => a.concat([c, ...neighbours(c)]), [])\n        .filter(cell => shouldChange(cell, countNeighbours(cell)))\n    )\n\n    for (let i = n; i > 0; i--) {\n      this.changedSinceLastCalc = iterate(this.changedSinceLastCalc)\n      this.changedSinceLastCalc.toArray().forEach(c => {\n        this.liveCells.toggle(c)\n        this.diff.toggle(c)\n      })\n    }\n\n    const ret = this.diff\n    this.diff = new CellSet()\n    return ret\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/Gol.js","'use strict'\n\nconst encode = c => `${c[0]},${c[1]}`\nconst decode = s => s.split(',').map(Number)\n\nmodule.exports = class CellSet {\n  constructor(initValues = []) {\n    this.set = new Set(initValues.map(encode))\n  }\n  add(cell) {\n    this.set.add(encode(cell))\n  }\n  has(cell) {\n    return this.set.has(encode(cell))\n  }\n  delete(cell) {\n    this.set.delete(encode(cell))\n  }\n  toggle(cell) {\n    this[this.has(cell) ? 'delete' : 'add'](cell)\n  }\n  toArray() {\n    return Array.from(this.set).map(decode)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/CellSet.js","'use strict'\n\nconst u = require('./patternsUtils.js')\nconst f = require('./formats.js')\n\nconst patterns = {\n  glider: 'bo$2bo$3o!',\n  missingname: '100o!',\n  Rpentomino: 'b2o$2o$bo!',\n  Acorn: '2o2b3o$3bo$bo!',\n  lightweightSpaceship: '4o$o3bo$o$bo!',\n  gliderGun: '2b2o$2b2o7$3b2o$2bobo$2b2o6$4b3o$4bo$5bo4$b2o$obo$2o10b2o$12bobo$12bo8$2o$2o5b3o$7bo$8bo!',\n  B52bomber: 'b2o36b$b2o17bo18b$19bobo12bobo2b$20bo12bo5b$2o7b2o23bo2bob$2obo5b2o23bobobo$3bo23bo7bo2bo$3bo23b2o7b2ob$o2bo17b2o5bo10b$b2o18bo17b$21b3o15b$36b2ob$36b2ob$b2o36b$o2bo35b$obobo16bobo4b2o5b2o2b$bo2bo17b2o4b2o5b2obo$5bo12bo3bo15bo$2bobo12bobo18bo$18bo16bo2bo$36b2o!',\n  gliderlessGun: '9b2o2bobo$2b2o4b3obo3bo$2b2o3b2o6bo$8bob5o22b2o3bo$9b3o25b3obob2o4b2o$37b3o4bo4b2o$9b3o28bo3bo$8bob5o26b3o$2b2o3b2o6bo$2b2o4b3obo3bo24b3o$9b2o2bobo24bo3bo$21bo15b3o4bo4b2o$19b2o16b3obob2o4b2o$20b2o15b2o3bo3$2b2o19bo2bo$2b2o23bo19b4o$23bo3bo18bo3bo$24b4o22bo$46bo2bo$2b3o3b3o$bo2bo3bo2bo$5bobo$b2o7b2o$b2o7b2o$4bo3bo$4b2ob2o$2b3o3b3o$2b2o5b2o$2bo7bo13$2b2o5b2o$2b2o5b2o!',\n  SHIP: '4b2o$3b4o2$2b6o$3b4o2$2b2o2b2o$2obo2bob2o$3bo2bo3$4b2o$4b2o!',\n  gbt12: '3o$2bo2$o$3o!'\n}\n\n// patterns['?'] = u.fromRLE(``)\n\nObject.keys(patterns).forEach(k => { patterns[k] = u.centerIn(f.fromRLE(patterns[k]), [500, 500]) })\n\nmodule.exports = patterns\n\n\n\n// WEBPACK FOOTER //\n// ./lib/patterns.js","'use strict'\n\nconst add = (pattern, shift) => pattern.map(c => [c[0] + shift[0], c[1] + shift[1]])\nconst sub = (pattern, shift) => add(pattern, shift.map(x => -x))\nconst min = pattern => [0, 1].map(i => Math.min(...pattern.map(c => c[i])))\nconst max = pattern => [0, 1].map(i => Math.max(...pattern.map(c => c[i])))\nconst transpose = pattern => pattern.map(([x, y]) => [y, x])\nconst size = pattern => ((n, x) => [0, 1].map(i => Math.abs(n[i] - x[i]) + 1))(min(pattern), max(pattern))\nconst join = (s1, s2) => Array.from(new Set([...s1, ...s2]))\nconst center = pattern => ((n, x) => [0, 1].map(i => Math.round((x[i] + n[i] - 1) / 2)))(min(pattern), max(pattern))\nconst centerIn = (pattern, size) => add(pattern, sub([center([[0, 0], size])], center(pattern))[0])\nconst zero = pattern => sub(pattern, min(pattern))\n\nmodule.exports = { add, sub, transpose, min, max, size, join, center, centerIn, zero }\n\n\n\n// WEBPACK FOOTER //\n// ./lib/patternsUtils.js","/* eslint no-return-assign:0, no-sequences:0,prefer-template:0 */\n'use strict'\n\nconst fromRLE = st => {\n  const res = []\n  let [row, col] = [0, 0]\n  const funcs = {\n    o: n => { while (n--) res.push([row, col++]) },\n    b: n => { col += n },\n    $: n => { [row, col] = [row + n, 0] }\n  }\n  st.replace(/(\\d*)([bo$])/g, (x, n, c) => funcs[c](Math.max(n, 1)))\n  return res\n}\nconst toRLE = pairs => {\n  const rowReducer = (o, [a, b]) => (o[a] = (o[a] || []).concat([b]), o)\n  const getRows = p => Array.from(p.reduce(rowReducer, []))\n  const rowToArray = row => Array.from((row || []).reduce((a, n) => a[n] = a, []))\n  const arrayToString = arr => arr.map(n => n ? 'o' : 'b').join('') + '$'\n\n  return getRows(pairs).map(rowToArray).map(arrayToString).join('').split('').reduce((o, curr) => ({\n    prev: curr,\n    l: o.prev === curr ? o.l + 1 : 1,\n    s: (o.prev && o.prev !== curr) ? o.s + (o.l > 1 ? o.l : '') + o.prev : o.s\n  }), {s: ''}).s + '!'\n}\n\nconst fromL = st => fromRLE(st.replace(/A/g, 'o').replace(/\\./g, 'b'))\nconst toL = pairs => toRLE(pairs).replace(/o/g, 'A').replace(/b/g, '.')\n\nconst fromGrid = (live, grid) => grid\n  .split('\\n')\n  .map((row, i) => row.split('').map((cell, j) => cell === live ? [i, j] : 0).filter(Boolean))\n  .reduce((o, line) => o.concat(line), [])\n\nmodule.exports = { fromRLE, toRLE, fromL, toL, fromGrid }\n\n\n\n// WEBPACK FOOTER //\n// ./lib/formats.js"],"sourceRoot":""}